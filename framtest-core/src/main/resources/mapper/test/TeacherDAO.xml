<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jinkme.framtest.core.dao.test.TeacherDAO">
    <resultMap id="teacher" type="com.jinkme.framtest.common.entity.test.Teacher">
        <id column="id" property="id" jdbcType="INTEGER"/>
        <result column="teacher_number" property="teacherNumber" jdbcType="VARCHAR"/>
        <result column="teacher_name" property="teacherName" jdbcType="VARCHAR"/>
    </resultMap>

    <!-- 保存organizational_structure_report -->
    <insert id="insert" parameterType="com.jinkme.framtest.common.entity.test.Teacher"  useGeneratedKeys="true"
            keyProperty="id" >
        INSERT INTO teacher
        (
        teacher_number,
        teacher_name
        )
        VALUES
        (#{teacherNumber,jdbcType=VARCHAR},
        #{teacherName,jdbcType=VARCHAR}
        )
    </insert>

    <update id="update" parameterType="com.jinkme.framtest.common.entity.test.Teacher" keyProperty="id" useGeneratedKeys="true">
        UPDATE  teacher
        <set>
            <if test="teacherNumber != null and teacherNumber != ''">
                teacher_number = #{teacherNumber ,jdbcType=VARCHAR},
            </if>
            <if test="teacherName != null and teacherName != ''">
                teacher_name = #{teacherName,jdbcType=VARCHAR},
            </if>
        </set>
        WHERE 1 = 1 AND
        teacher_number = #{studentNumber}
    </update>


</mapper>
