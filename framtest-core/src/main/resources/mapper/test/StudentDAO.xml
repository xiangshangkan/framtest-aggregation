<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jinkme.framtest.core.dao.test.StudentDAO">
    <resultMap id="student" type="com.jinkme.framtest.common.entity.test.Student">
        <id column="id" property="id" jdbcType="INTEGER"/>
        <result column="student_number" property="studentNumber" jdbcType="VARCHAR"/>
        <result column="student_name" property="studentName" jdbcType="VARCHAR"/>
        <result column="teacher_number" property="teacherNumber" jdbcType="VARCHAR"/>
    </resultMap>

    <!-- 保存organizational_structure_report -->
    <insert id="insert" parameterType="com.jinkme.framtest.common.entity.test.Student"  useGeneratedKeys="true"
            keyProperty="id" >
        INSERT INTO student
        (
        student_number,
        student_name,
        teacher_number
        )
        VALUES
        (#{studentNumber,jdbcType=VARCHAR},
        #{studentName,jdbcType=VARCHAR},
        #{teacherNumber,jdbcType=VARCHAR}
        )
    </insert>

    <update id="update" parameterType="com.jinkme.framtest.common.entity.test.Student" keyProperty="id" useGeneratedKeys="true">
        UPDATE  student
        <set>
            <if test="studentNumber != null and studentNumber != ''">
                student_number = #{studentNumber ,jdbcType=VARCHAR},
            </if>
            <if test="studentName != null and studentName != ''">
                student_name = #{studentName,jdbcType=VARCHAR},
            </if>
            <if test="teacherNumber != null and teacherNumber != ''">
                teacher_number = #{teacherNumber,jdbcType=VARCHAR},
            </if>
        </set>
        WHERE 1 = 1 AND
        student_number = #{studentNumber}
    </update>


</mapper>
